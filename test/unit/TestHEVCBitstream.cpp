#include "TestCommon.h"

#include "h265/h265.h"

TEST(TestH265SeqParameterSet, Parse)
{
        Logger::EnableDebug(true);

        
        const uint8_t data[] = {
                0x01, 0x01, 0x40, 0x00, 0x00, 0x00, 0x90, 0x00,
                0x00, 0x00, 0x00, 0x00, 0x7b, 0xa0, 0x03, 0xc0,
                0x80, 0x11, 0x07, 0xcb, 0x96, 0x5d, 0x29, 0x08,
                0x46, 0x45, 0xff, 0x8c, 0x05, 0xa8, 0x08, 0x08,
                0x08, 0x20, 0x00, 0x00, 0x00, 0x20, 0x00, 0x00,
                0x07, 0x8c, 0x00, 0xbb, 0xca, 0x20, 0x00, 0x09,
                0x89, 0x68, 0x00, 0x00, 0x4c, 0x4b, 0x40, 0x80,
        };


        H265SeqParameterSet sps;

        ASSERT_TRUE(sps.Decode(data, sizeof(data)));

        sps.Dump();
}